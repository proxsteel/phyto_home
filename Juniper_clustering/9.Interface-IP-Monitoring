Interface Monitoring:

We can set up interface monitoring to trigger a failover when an interface goes down. To do this we must:
1. Assign a weight value to each physical interface we want to monitor.
2. If that inteface goes down the weight value is subtracted from the threshold of 255.
3. If the threshold goes to 0 or lower a failover is triggered.

   255 is a non-configurable threshold, each RG has this value.

NOTE: Multiple physical links in LAG can be a membre of RETH interface, so each link might has a weight value.  

Configuration:

Lets configure interface monitoring using the following commands (SRX210):
# set chassis cluster redundancy-group 1 interface-monitoring ge-0/0/0 weight 255
# set chassis cluster redundancy-group 1 interface-monitoring ge-2/0/0 weight 255

Any interface on the LAN side that goes down on a primary node, will trigger a cluster failover for RG1.


IP Monitoring:

Often it is not possible to detect an outage just by monitoring the status of an interface. We need to do IP monitoring instead.

 -- IP monitoring allows us to monitor upstream IP reachability. Can be multiple upstream routers.
 -- Ping an upstream IP and monitor if we get a response back.
 -- If no response detected in a predefined time period, failover the redundancy group.
 -- Can monitor from our primary and secondary node at the same time.
